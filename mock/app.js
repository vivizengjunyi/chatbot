/* eslint-disable no-undef */
const express = require("express");
const app = express();
const port = 4000;

// api for posting the selected form
app.post("/api/v1/10/profile", (req, res) => {
  res.json({
    profile_id: "1",
  });
});
// api for getting all questions
app.get("/api/v1/profile/:profile_id/questions", (req, res) => {
  res.json([
    {
      id: 1,
      description: "What language do you prefer for your correspondances?",
      section_id: 1,
      identifier: "1_4a",
      is_required: null,
      options_endpoint: "/languages",
      model: "LanguagePreference",
      model_field: "language_id",
      model_field_type: "integer",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference?type=correspondance",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T19:59:33.125Z",
      //   answer: "Akan",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T19:59:33.125Z",
      //   is_skipped: false,
      // },
      next_questions: 2,
      is_starting_question: true,
    },
    {
      id: 2,
      description: "What language do you prefer for you itnerviews?",
      section_id: 1,
      identifier: "1_4b",
      is_required: null,
      options_endpoint: "/languages",
      model: "LanguagePreference",
      model_field: "language_id",
      model_field_type: "integer",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference?type=interview",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T19:59:33.125Z",
      //   answer: "Afrikaans",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:04:50.884Z",
      //   is_skipped: false,
      // },
      next_questions: 3,
    },
    {
      id: 3,
      description: "Do you need an interpreter?",
      section_id: 1,
      question_type: "yes_no",
      identifier: "1_4c",
      is_required: null,
      options_endpoint: null,
      model: "LanguageInterpreter",
      model_field: "needed",
      model_field_type: "boolean",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_interpreter",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:05:43.405Z",
      //   answer: "Yes",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:05:43.405Z",
      //   is_skipped: false,
      // },
      next_questions: 4,
    },
    {
      id: 4,
      description: "In which Canadian province do you intent to live?",
      section_id: 1,
      identifier: "1_5a",
      is_required: null,
      options_endpoint: "/provinces",
      model: null,
      model_field: "province_id",
      model_field_type: "integer",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:06:22.852Z",
      //   answer: "BC",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:06:22.852Z",
      //   is_skipped: false,
      // },
      next_questions: 5,
    },
    {
      id: 5,
      description: "In which city?",
      section_id: 1,
      identifier: "1_5b",
      is_required: null,
      options_endpoint: null,
      model: null,
      model_field: "city",
      model_field_type: "string",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:07:35.732Z",
      //   answer: "Vancouver",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:07:35.732Z",
      //   is_skipped: false,
      // },
      next_questions: 6,
    },
    {
      id: 6,
      description: "Have you received a CSQ?",
      section_id: 1,
      identifier: "1_6a",
      is_required: null,
      options_endpoint: null,
      model: null,
      model_field: "csq_received",
      model_field_type: "boolean",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:08:19.264Z",
      //   answer: "Yes",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:08:19.264Z",
      //   is_skipped: false,
      // },
      next_questions: [
        {
          next_question_id: 7,
          dependency_condition: "Yes",
        },
        {
          next_question_id: 8,
          dependency_condition: "No",
        },
        {
          next_question_id: 9,
          dependency_condition: "is_skip",
        },
      ],
    },
    {
      id: 7,
      description: "Please provide the CSQ number",
      section_id: 1,
      identifier: "1_6b",
      is_required: null,
      options_endpoint: null,
      model: "CSQ",
      model_field: "number",
      model_field_type: "string",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:09:02.907Z",
      //   answer: "1234567",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:09:02.907Z",
      //   is_skipped: false,
      // },
      next_questions: 9,
    },
    {
      id: 8,
      description: "If not, when did you paply for your CSQ?",
      section_id: 1,
      identifier: "1_6c",
      is_required: null,
      options_endpoint: null,
      model: "CSQ",
      model_field: "application_date",
      model_field_type: "date",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/csq",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:10:22.701Z",
      //   answer: "2023/05/28",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:10:22.701Z",
      //   is_skipped: false,
      // },
      next_questions: 9,
    },
    {
      id: 9,
      description: "What is your first name?",
      section_id: 2,
      identifier: "2_1_first",
      is_required: null,
      options_endpoint: null,
      model: "Person",
      model_field: "first_name",
      model_field_type: "string",
      model_field_value: null,
      http_request_type: "put",
      api_endpoint: "/person/1/language_preference",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:10:22.701Z",
      //   answer: "John",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:10:22.701Z",
      //   is_skipped: false,
      // },
      next_questions: 10,
    },
    {
      id: 10,
      description: "What is your family names",
      section_id: 2,
      identifier: "2_1_last",
      is_required: null,
      options_endpoint: null,
      model: "Person",
      model_field: "family_name",
      model_field_type: "string",
      model_field_value: null,
      http_request_type: "put",
      api_endpoint: "/person/1",
      // current_answer: {
      //   profile_id: 1,
      //   question_timestamp: "2023-06-13T20:11:24.497Z",
      //   answer: "Doe",
      //   // options_endpoint: "...",
      //   answer_timestamp: "2023-06-13T20:11:24.497Z",
      //   is_skipped: false,
      // },
      next_questions: 26,
    },
    {
      id: 26,
      description:
        "During the last 5 years, have you live in another country for more than 6 months?",
      section_id: 2,
      identifier: "2_12_another_country_resident_5_years",
      is_required: null,
      options_endpoint: null,
      model: "CountryResidence",
      model_field: "another_country_resident_5_years",
      model_field_type: "boolean",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference",
      current_answer: {
        profile_id: 1,
        question_timestamp: null,
        answer: null,
        // options_endpoint: "...",
        answer_timestamp: null,
        is_skipped: false,
      },
      next_questions: [
        {
          next_question_id: 27,
          dependency_condition: "Yes",
        },
        {
          next_question_id: 33,
          dependency_condition: "No",
        },
      ],
    },
    // {
    //   id: 27,
    //   description: "Country name?",
    //   section_id: 2,
    //   identifier: "2_12_country",
    //   is_required: null,
    //   options_endpoint: "/countries",
    //   model: "CountryResidence",
    //   model_field: "country_id",
    //   model_field_type: "integer",
    //   model_field_value: null,
    //   http_request_type: "post",
    //   api_endpoint: "/person/1/language_preference",
    //   current_answer: {
    //     profile_id: 1,
    //     question_timestamp: null,
    //     answer: "Doe",
    //     // options_endpoint: "...",
    //     answer_timestamp: "2023-06-13T20:11:24.497Z",
    //     is_skipped: false,
    //   },
    //   next_questions: 28,
    // },
    // {
    //   id: 28,
    //   description: "Status in this Country residence?",
    //   section_id: 2,
    //   identifier: "2_12_status",
    //   is_required: null,
    //   options_endpoint: "/country_residence_statuses",
    //   model: "CountryResidence",
    //   model_field: "status",
    //   model_field_type: "integer",
    //   model_field_value: null,
    //   http_request_type: "put",
    //   api_endpoint: "/person/1/language_preference",
    //   current_answer: {
    //     profile_id: 1,
    //     question_timestamp: null,
    //     answer: "Doe",
    //     // options_endpoint: "...",
    //     answer_timestamp: "2023-06-13T20:11:24.497Z",
    //     is_skipped: false,
    //   },
    //   next_questions: [
    //     {
    //       next_question_id: 29,
    //       dependency_condition: "Other",
    //     },
    //     {
    //       next_question_id: 30,
    //       dependency_condition: [
    //         "Citizen",
    //         "Permanent Resident",
    //         "Temporary Resident",
    //         "Refugee",
    //       ],
    //     },
    //   ],
    // },
    // {
    //   id: 29,
    //   description: "Other",
    //   section_id: 2,
    //   identifier: "2_12_other",
    //   is_required: null,
    //   options_endpoint: null,
    //   model: "CountryResidence",
    //   model_field: "other",
    //   model_field_type: "string",
    //   model_field_value: null,
    //   http_request_type: "put",
    //   api_endpoint: "/person/1/language_preference",
    //   current_answer: {
    //     profile_id: 1,
    //     question_timestamp: null,
    //     answer: "Doe",
    //     // options_endpoint: "...",
    //     answer_timestamp: "2023-06-13T20:11:24.497Z",
    //     is_skipped: false,
    //   },
    //   next_questions: 30,
    // },
    //   {
    //     id: 30,
    //     description: "Resident from?",
    //     section_id: 2,
    //     identifier: "2_12_from_date",
    //     is_required: null,
    //     options_endpoint: null,
    //     model: "CountryResidence",
    //     model_field: "from_date",
    //     model_field_type: "date",
    //     model_field_value: null,
    //     http_request_type: "put",
    //     api_endpoint: "/person/1/language_preference",
    //     next_questions: 31,
    //   },
    //   {
    //     id: 31,
    //     description: "Resident to?",
    //     section_id: 2,
    //     identifier: "2_12_to_date",
    //     is_required: null,
    //     options_endpoint: null,
    //     model: "CountryResidence",
    //     model_field: "to_date",
    //     model_field_type: "date",
    //     model_field_value: null,
    //     http_request_type: "put",
    //     api_endpoint: "/person/1/language_preference",
    //     current_answer: {
    //       profile_id: 1,
    //       question_timestamp: null,
    //       answer: "Doe",
    //       // options_endpoint: "...",
    //       answer_timestamp: "2023-06-13T20:11:24.497Z",
    //       is_skipped: false,
    //     },
    //     next_questions: 32,
    //   },
    //   {
    //     id: 32,
    //     description: "Do you wish to provide more countries?",
    //     section_id: 2,
    //     identifier: "2_12_repeat",
    //     is_required: null,
    //     options_endpoint: null,
    //     model: "CountryResidence",
    //     model_field: "repeat",
    //     model_field_type: "boolean",
    //     model_field_value: null,
    //     http_request_type: "post",
    //     api_endpoint: "/person/1/language_preference",
    //     current_answer: {
    //       profile_id: 1,
    //       question_timestamp: null,
    //       answer: "Doe",
    //       // options_endpoint: "...",
    //       answer_timestamp: "2023-06-13T20:11:24.497Z",
    //       is_skipped: false,
    //     },
    //     next_questions: [
    //       {
    //         next_question_id: 27,
    //         dependency_condition: "Yes",
    //       },
    //       {
    //         next_question_id: 33,
    //         dependency_condition: "No",
    //       },
    //     ],
    //   },
    //   {
    //     id: 33,
    //     description: "Current marital status",
    //     section_id: 2,
    //     identifier: "2_13_a",
    //     is_required: null,
    //     options_endpoint: "/marital_statuses",
    //     model: "CurrentMaritalStatus",
    //     model_field: "marital_status_id",
    //     model_field_type: "integer",
    //     model_field_value: null,
    //     http_request_type: "post",
    //     api_endpoint: "/person/1/language_preference",
    //     current_answer: {
    //       profile_id: 1,
    //       question_timestamp: null,
    //       answer: "Doe",
    //       // options_endpoint: "...",
    //       answer_timestamp: "2023-06-13T20:11:24.497Z",
    //       is_skipped: false,
    //     },
    //     next_questions: null,
    //   },
  ]);
});

// api for posting the answer of question 1 and getting question 2 config
app.post(
  "/api/v1/person/1/language_preference?type=correspondance",
  (req, res) => {
    res.json({
      id: 2,
      section_id: 1,
      identifier: "1_4b",
      is_required: null,
      options_endpoint: "/languages",
      model: "LanguagePreference",
      model_field: "language_id",
      model_field_type: "integer",
      model_field_value: null,
      http_request_type: "post",
      api_endpoint: "/person/1/language_preference?type=interview",
      next_questions: 3,
    });
  }
);

// api for posting the answer of question 2 and getting question 3 config
app.put("/api/v1/person/1/language_preference", (req, res) => {
  res.json({
    id: 3,
    section_id: 1,
    question_type: "yes_no",
    identifier: "1_4c",
    is_required: null,
    options_endpoint: null,
    model: "LanguageInterpreter",
    model_field: "needed",
    model_field_type: "boolean",
    model_field_value: null,
    http_request_type: "post",
    api_endpoint: "/person/1/language_interpreter",
    next_questions: 4,
  });
});

// api for getting all answers
app.get("/api/v1/profile/1/messages", (req, res) => {
  res.json([
    {
      id: 1,
      profile_id: 1,
      question_timestamp: "2023-06-13T19:59:33.125Z",
      answer: "Akan",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T19:59:33.125Z",
      is_skipped: false,
    },
    {
      id: 2,
      profile_id: 1,
      question_timestamp: "2023-06-13T19:59:33.125Z",
      answer: "Afrikaans",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:04:50.884Z",
      is_skipped: false,
    },
    {
      id: 3,
      profile_id: 1,
      question_timestamp: "2023-06-13T20:05:43.405Z",
      answer: "Yes",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:05:43.405Z",
      is_skipped: false,
    },
    {
      id: 4,
      profile_id: 1,
      question_timestamp: "2023-06-13T20:06:22.852Z",
      answer: "BC",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:06:22.852Z",
      is_skipped: false,
    },
    {
      id: 5,
      profile_id: 1,
      question_timestamp: "2023-06-13T20:07:35.732Z",
      answer: "Vancouver",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:07:35.732Z",
      is_skipped: false,
    },
    {
      id: 6,
      profile_id: 1,
      question_timestamp: "2023-06-13T20:08:19.264Z",
      answer: "Yes",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:08:19.264Z",
      is_skipped: false,
    },
    {
      id: 7,
      profile_id: 1,
      question_timestamp: "2023-06-13T20:09:02.907Z",
      answer: "1234567",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:09:02.907Z",
      is_skipped: false,
    },
    {
      id: 8,
      profile_id: 1,
      question_timestamp: "2023-06-13T20:10:22.701Z",
      answer: "2023/05/28",
      // options_endpoint: "...",
      answer_timestamp: "2023-06-13T20:10:22.701Z",
      is_skipped: false,
    },
    {
      id: 9,
      profile_id: 1,
        question_timestamp: "2023-06-13T20:10:22.701Z",
        answer: "John",
        // options_endpoint: "...",
        answer_timestamp: "2023-06-13T20:10:22.701Z",
        is_skipped: false,
    },
    {
      id: 10,
      profile_id: 1,
        question_timestamp: "2023-06-13T20:11:24.497Z",
        answer: "Doe",
        // options_endpoint: "...",
        answer_timestamp: "2023-06-13T20:11:24.497Z",
        is_skipped: false,
    },
  ]);
});

// api for option endpoint
app.get("/api/v1/languages", (req, res) => {
  res.json({
    "089": "English",
    501: "Adama",
    228: "Afar",
    "004": "Afghan",
    203: "Afrikaans",
    502: "Agbor",
    "053": "Aka",
    165: "Akan",
    503: "Akim",
    "003": "Aklanon",
  });
});

app.get("/api/v1/provinces", (req, res) => {
  res.json({
    "09": "AB",
    11: "BC",
    "07": "MB",
    "04": "NB",
    "01": "NL",
    "03": "NS",
    10: "NT",
    64: "NU",
    "06": "ON",
    "02": "PE",
    "05": "QC",
    "08": "SK",
    12: "YT",
  });
});
// /countries
app.get("/api/v1/countries", (req, res) => {
  res.json({
    252: "Afghanistan",
    199: "Africa Nes",
    401: "Aland Island",
    "081": "Albania",
    131: "Algeria",
    "082": "Andorra",
    151: "Angola",
    620: "Anguilla",
    621: "Antigua And Barbuda",
    703: "Argentina",
    "049": "Armenia",
    658: "Aruba",
    299: "Asia NES",
  });
});

app.get("/api/v1/country_residence_statuses", (req, res) => {
  res.json({
    1: "Citizen",
    2: "Permanent Resident",
    3: "Temporary Resident",
    4: "Refugee",
    5: "Other",
  });
});

app.get("/api/v1/marital_statuses", (req, res) => {
  res.json({
    "01": "Citizen",
    "02": "Permanent resident",
    "03": "Visitor",
    "04": "Worker",
    "05": "Student",
    "06": "Other",
    "07": "Protected Person",
    "08": "Refugee Claimant",
    "09": "Foreign National",
  });
});

app.listen(port, () => {
  console.log(`Example app listening on port ${port}`);
});
